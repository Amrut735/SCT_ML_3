<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üê±üê∂ SVM Cat-Dog Classifier - Enhanced</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --danger-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --dark-gradient: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            --light-gradient: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .main-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin: 20px;
            padding: 30px;
        }

        .header-section {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: var(--primary-gradient);
            border-radius: 20px;
            color: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .nav-buttons {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 15px;
            z-index: 10;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .nav-btn.active {
            background: rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 255, 255, 0.6);
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .section.active {
            display: block;
        }

        .about-section, .contact-section {
            background: var(--light-gradient);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .about-section h2, .contact-section h2 {
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 2.2rem;
            font-weight: 700;
        }

        .about-section p {
            color: #6c757d;
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: left;
        }

        .contact-section .contact-info {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: block;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
        }

        .contact-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .contact-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: all 0.3s ease;
        }

        .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .contact-card h3 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            text-align: center;
        }

        .contact-card p {
            color: #6c757d;
            margin-bottom: 12px;
            font-size: 1rem;
            line-height: 1.6;
        }

        .contact-card .email-form {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .contact-card .email-form form {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .contact-card .email-form h4 {
            margin-bottom: 20px;
            text-align: center;
        }

        .contact-submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        /* Enhanced Form Styling */
        .email-form input:focus,
        .email-form select:focus,
        .email-form textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
            transition: all 0.3s ease;
        }

        .email-form input:hover,
        .email-form select:hover,
        .email-form textarea:hover {
            border-color: #5a6fd8;
            transform: translateY(-1px);
        }

        /* Mobile Touch Optimizations */
        @media (hover: none) and (pointer: coarse) {
            .contact-card:hover {
                transform: none;
            }
            
            .contact-submit-btn:hover {
                transform: none;
            }
            
            .floating-btn:hover {
                transform: none;
            }
        }

        /* Smooth Scrolling for Mobile */
        html {
            scroll-behavior: smooth;
        }

        /* Prevent text selection on mobile */
        .nav-btn, .floating-btn, .contact-submit-btn {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (max-width: 768px) {
            .contact-cards-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .contact-card {
                padding: 25px;
            }
            
            .contact-card h3 {
                font-size: 1.2rem;
            }
            
            .contact-card p {
                font-size: 0.95rem;
            }
            
            .email-form input,
            .email-form select,
            .email-form textarea {
                font-size: 16px !important; /* Prevents zoom on iOS */
                padding: 12px !important;
            }
            
            .contact-submit-btn {
                padding: 15px 20px !important;
                font-size: 16px !important;
            }
        }

        /* Enhanced Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Animation Classes */
        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .animate-slide-in-left {
            animation: slideInLeft 0.6s ease-out forwards;
        }

        .animate-slide-in-right {
            animation: slideInRight 0.6s ease-out forwards;
        }

        .animate-scale-in {
            animation: scaleIn 0.5s ease-out forwards;
        }

        /* Staggered Animation Delays */
        .contact-card:nth-child(1) {
            animation: fadeInUp 0.6s ease-out 0.1s both;
        }

        .contact-card:nth-child(2) {
            animation: fadeInUp 0.6s ease-out 0.3s both;
        }

        .contact-card:nth-child(3) {
            animation: fadeInUp 0.6s ease-out 0.5s both;
        }

        /* Smooth Section Transitions */
        .section {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .section.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Enhanced Card Interactions */
        .contact-card {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .contact-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        /* Touch-friendly Mobile Interactions */
        @media (max-width: 768px) {
            .contact-card:active {
                transform: scale(0.98);
                transition: transform 0.1s ease;
            }
            
            .contact-submit-btn:active {
                transform: scale(0.95);
                transition: transform 0.1s ease;
            }
            
            /* Larger touch targets */
            .nav-btn {
                min-height: 44px;
                min-width: 44px;
            }
            
            .floating-btn {
                width: 56px;
                height: 56px;
            }
            
            /* Mobile-specific optimizations */
            .header-section {
                padding: 20px 15px;
            }
            
            .nav-buttons {
                gap: 10px;
            }
            
            .nav-btn {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            /* Better mobile form experience */
            .email-form {
                margin-top: 15px;
            }
            
            .email-form input,
            .email-form select,
            .email-form textarea {
                margin-bottom: 20px;
            }
            
            /* Mobile-friendly spacing */
            .contact-section h2 {
                font-size: 1.8rem;
                margin-bottom: 25px;
            }
            
            .contact-cards-container {
                margin: 20px 0;
            }
        }

        /* Additional Mobile Breakpoints */
        @media (max-width: 480px) {
            .contact-card {
                padding: 20px;
            }
            
            .contact-card h3 {
                font-size: 1.1rem;
                margin-bottom: 15px;
            }
            
            .contact-card p {
                font-size: 0.9rem;
                margin-bottom: 10px;
            }
            
            .nav-btn {
                padding: 10px 16px;
                font-size: 13px;
            }
            
            .floating-btn {
                width: 50px;
                height: 50px;
                bottom: 20px;
                right: 20px;
            }
        }

        .contact-section .contact-info h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .contact-section .contact-info p {
            color: #6c757d;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .contact-section .contact-info a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .contact-section .contact-info a:hover {
            color: #764ba2;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .tech-item {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .tech-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .tech-item i {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 15px;
        }

        .tech-item h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .tech-item p {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .header-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        .header-section::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
            animation: float-particles 6s ease-in-out infinite;
        }

        @keyframes float-particles {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .header-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            font-weight: 300;
        }

        .upload-section {
            background: var(--light-gradient);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 2px dashed #dee2e6;
            transition: all 0.3s ease;
        }

        .upload-section:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .upload-area {
            text-align: center;
            padding: 40px 20px;
        }

        .upload-icon {
            font-size: 4rem;
            color: #667eea;
            margin-bottom: 20px;
        }

        .file-input-wrapper {
            position: relative;
            display: inline-block;
            margin: 20px 0;
        }

        .custom-file-input {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-input-button {
            background: var(--primary-gradient);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .file-input-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .classify-btn {
            background: var(--success-gradient);
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            border: none;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin-top: 20px;
        }

        .classify-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .classify-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results-section {
            display: none;
            margin-top: 30px;
        }

        .image-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .uploaded-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .uploaded-image:hover {
            transform: scale(1.02);
        }

        .predictions-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .prediction-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .prediction-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s ease;
        }

        .prediction-card:hover::before {
            left: 100%;
        }

        .prediction-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }
        
        .prediction-card.enhanced {
            background: var(--light-gradient);
            border-color: #667eea;
        }
        
        .prediction-card.error {
            background: var(--danger-gradient);
            color: white;
        }

        .prediction-card.unavailable {
            background: var(--warning-gradient);
            color: white;
        }

        .prediction-card h4 {
            margin-bottom: 20px;
            font-weight: 700;
            color: #2c3e50;
        }

        .prediction-card.error h4,
        .prediction-card.unavailable h4 {
            color: white;
        }

        .emoji {
            font-size: 4rem;
            margin: 20px 0;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
        }

        .prediction-card h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .confidence-bar {
            background: #e9ecef;
            border-radius: 25px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .confidence-fill {
            background: var(--success-gradient);
            height: 100%;
            border-radius: 25px;
            transition: width 1s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .model-info-badge {
            background: var(--dark-gradient);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 15px;
            display: inline-block;
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 6px solid #f3f3f3;
            border-top: 6px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .metrics-section {
            background: var(--light-gradient);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2c3e50;
            margin: 0;
        }

        .refresh-btn {
            background: var(--secondary-gradient);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stats-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .stats-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .stats-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stats-label {
            color: #6c757d;
            font-weight: 500;
        }

        .kernel-table {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .table {
            margin: 0;
        }

        .table thead th {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 20px;
            font-weight: 600;
            text-align: center;
        }

        .table tbody td {
            padding: 20px;
            text-align: center;
            border: none;
            vertical-align: middle;
        }

        .table tbody tr:nth-child(even) {
            background: #f8f9fa;
        }

        .table tbody tr:hover {
            background: #e9ecef;
            transform: scale(1.01);
            transition: all 0.2s ease;
        }

        .badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
        }

        .best-model-alert {
            background: var(--success-gradient);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .sample-gallery-section {
            background: var(--light-gradient);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .sample-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .sample-image {
            cursor: pointer;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .sample-image:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .sample-image img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .sample-image:hover img {
            transform: scale(1.1);
        }

        .sample-label {
            background: var(--dark-gradient);
            color: white;
            padding: 8px;
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .floating-action {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--success-gradient);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            animation: float 3s ease-in-out infinite;
            opacity: 0;
            visibility: hidden;
        }

        .floating-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .stats-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .stats-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .stats-card:hover::after {
            transform: scaleX(1);
        }

        @media (max-width: 768px) {
            .main-container {
                margin: 10px;
                padding: 20px;
            }
            
            .header-title {
                font-size: 2rem;
            }
            
            .predictions-container {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .bounce-in {
            animation: bounceIn 0.6s ease-out;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
        <div class="main-container">
        <!-- Header Section -->
        <div class="header-section">
            <!-- Navigation Buttons -->
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="showSection('home')">
                    <i class="fas fa-home"></i> Home
                </button>
                <button class="nav-btn" onclick="showSection('about')">
                    <i class="fas fa-info-circle"></i> About
                </button>
                <button class="nav-btn" onclick="showSection('contact')">
                    <i class="fas fa-envelope"></i> Contact
                </button>
            </div>

            <h1 class="header-title">
                <i class="fas fa-brain"></i> SVM Cat-Dog Classifier
            </h1>
            <p class="header-subtitle">
                Advanced Machine Learning Classification with Multiple Kernel Support
            </p>
        </div>

        <!-- Home Section -->
        <div id="home-section" class="section active">
            <!-- Upload Section -->
            <div class="upload-section">
                <div class="upload-area">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <h3>Upload an Image to Classify</h3>
                    <p class="text-muted">Support for JPG, PNG, and JPEG formats</p>
                    
                <form id="uploadForm" enctype="multipart/form-data">
                        <div class="file-input-wrapper">
                            <input type="file" id="imageFile" name="file" accept=".jpg,.jpeg,.png" class="custom-file-input">
                            <button type="button" class="file-input-button" onclick="document.getElementById('imageFile').click()">
                                <i class="fas fa-folder-open"></i> Choose File
                            </button>
                    </div>
                        
                        <div id="fileInfo" class="mt-3" style="display: none;">
                            <div class="alert alert-info">
                                <i class="fas fa-file-image"></i> 
                                <span id="fileName"></span> selected
                            </div>
                        </div>
                        
                        <button type="submit" class="classify-btn" id="classifyBtn" disabled>
                        <i class="fas fa-magic"></i> Classify Image
                    </button>
                </form>
                </div>
            </div>
                
            <!-- Loading Spinner -->
            <div id="loading" class="loading-spinner">
                    <div class="spinner"></div>
                <h4>Analyzing Image...</h4>
                <p class="text-muted">Our AI models are processing your image</p>
            </div>

            <!-- Results Section -->
            <div id="predictionResults" class="results-section">
                <div class="image-display">
                        <img id="uploadedImage" class="uploaded-image" alt="Uploaded image">
                    </div>
                
                <div class="predictions-container" id="predictionsContainer">
                    <!-- Predictions will be displayed here -->
                </div>
            </div>

            <!-- Model Information Section -->
            <div class="metrics-section">
                <div class="section-header">
                    <h3 class="section-title">
                        <i class="fas fa-chart-line"></i> Model Information
                    </h3>
                    <button class="refresh-btn" onclick="refreshMetrics()">
                        <i class="fas fa-sync-alt"></i> Refresh Metrics
                    </button>
                </div>
                
                <!-- Dataset Stats -->
                <div class="stats-grid" id="datasetStats">
                        <div class="stats-card">
                            <div class="stats-number" id="trainCats">-</div>
                        <div class="stats-label">Training Cats</div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-number" id="trainDogs">-</div>
                        <div class="stats-label">Training Dogs</div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-number" id="testCats">-</div>
                        <div class="stats-label">Test Cats</div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-number" id="testDogs">-</div>
                        <div class="stats-label">Test Dogs</div>
                    </div>
                </div>

                <!-- Enhanced Model Performance -->
                <h4 class="section-title">
                    <i class="fas fa-rocket"></i> Enhanced Model Performance
                </h4>
                <div class="kernel-table">
                    <table class="table table-striped mb-0">
                        <thead>
                            <tr>
                                <th><i class="fas fa-cog"></i> Model</th>
                                <th><i class="fas fa-bullseye"></i> Accuracy</th>
                                <th><i class="fas fa-crosshairs"></i> Precision</th>
                                <th><i class="fas fa-search"></i> Recall</th>
                                <th><i class="fas fa-chart-bar"></i> F1-Score</th>
                            </tr>
                        </thead>
                        <tbody id="kernelTable">
                            <!-- Enhanced model data will be loaded here -->
                        </tbody>
                    </table>
                </div>

                <!-- Best Model Info -->
                <div class="best-model-alert">
                    <strong><i class="fas fa-trophy"></i> Best Performing Model:</strong> 
                    <span id="bestKernel">-</span> 
                        with <span id="bestAccuracy">-</span> accuracy
                </div>
            </div>

            <!-- Sample Images Gallery -->
            <div class="sample-gallery-section">
                <h3 class="section-title">
                    <i class="fas fa-images"></i> Sample Images Gallery
                </h3>
                <p class="text-muted">Click on any image below to test the classifier:</p>
                <div class="sample-gallery" id="sampleGallery">
                    <!-- Sample images will be loaded here -->
                </div>
            </div>
        </div>

        <!-- About Section -->
        <div id="about-section" class="section">
            <div class="about-section">
                <h2><i class="fas fa-info-circle"></i> About This Project</h2>
                
                <p>
                    This is an advanced <strong>Support Vector Machine (SVM) Cat-Dog Classifier</strong> that demonstrates the power of machine learning in image classification tasks. The project showcases multiple SVM kernel implementations and provides real-time image analysis capabilities.
                </p>
                
                <p>
                    <strong>Project Overview:</strong> The system uses three different SVM kernels (Linear, RBF, and Polynomial) to classify images as either cats or dogs. Each kernel offers different approaches to pattern recognition, allowing users to compare performance and understand the strengths of various machine learning techniques.
                </p>
                
                <p>
                    <strong>Key Features:</strong> The application provides real-time image upload and classification, comprehensive model performance metrics, and an interactive interface for exploring machine learning concepts. Users can upload their own images and receive predictions from all three SVM models simultaneously.
                </p>
                
                <p>
                    <strong>Educational Value:</strong> This project serves as an excellent learning tool for understanding SVM algorithms, kernel functions, and machine learning evaluation metrics. It demonstrates practical applications of theoretical concepts in computer vision and pattern recognition.
                </p>

                <h3 style="color: #2c3e50; margin: 30px 0 20px 0;">Technology Stack</h3>
                <div class="tech-stack">
                    <div class="tech-item">
                        <i class="fas fa-brain"></i>
                        <h4>Machine Learning</h4>
                        <p>Scikit-learn SVM implementation with multiple kernels</p>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-code"></i>
                        <h4>Python</h4>
                        <p>Core programming language with Flask web framework</p>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-image"></i>
                        <h4>Computer Vision</h4>
                        <p>OpenCV for image preprocessing and feature extraction</p>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-chart-line"></i>
                        <h4>Data Analysis</h4>
                        <p>NumPy and Pandas for numerical computations</p>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-palette"></i>
                        <h4>Frontend</h4>
                        <p>HTML5, CSS3, and JavaScript with Bootstrap</p>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-server"></i>
                        <h4>Backend</h4>
                        <p>Flask web server with RESTful API endpoints</p>
                </div>
            </div>
        </div>
    </div>

        <!-- Contact Section -->
        <div id="contact-section" class="section">
            <div class="contact-section">
                <h2><i class="fas fa-envelope"></i> Contact Information</h2>
                
                <div class="contact-cards-container">
                    <!-- Project Contact Card -->
                    <div class="contact-card">
                        <div>
                            <h3><i class="fas fa-project-diagram"></i> Project Contact</h3>
                            <p><strong>Email:</strong> <a href="mailto:svm-classifier@ai-research.com">svm-classifier@ai-research.com</a></p>
                            <p><strong>Project Type:</strong> Machine Learning Research & Development</p>
                            <p><strong>Category:</strong> Computer Vision & Image Classification</p>
                            <p><strong>Status:</strong> Active Development</p>
                        </div>
                    </div>

                    <!-- Get Involved Card -->
                    <div class="contact-card">
                        <div>
                            <h3><i class="fas fa-lightbulb"></i> Get Involved</h3>
                            <p>Interested in contributing to this project?</p>
                            <p>Have questions about the implementation?</p>
                            <p>Want to discuss machine learning concepts?</p>
                            <p><strong>Feel free to reach out!</strong></p>
                        </div>
                        
                        <!-- Email Form -->
                        <div class="email-form" style="margin-top: 20px; text-align: left;">
                            <h4 style="color: #667eea; margin-bottom: 15px;">Send us a message:</h4>
                            <form id="contactForm" onsubmit="sendEmail(event)">
                                <div style="margin-bottom: 15px;">
                                    <label for="userName" style="display: block; margin-bottom: 5px; color: #2c3e50; font-weight: 600;">Your Name:</label>
                                    <input type="text" id="userName" name="userName" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                                </div>
                                
                                <div style="margin-bottom: 15px;">
                                    <label for="userEmail" style="display: block; margin-bottom: 5px; color: #2c3e50; font-weight: 600;">Your Email:</label>
                                    <input type="email" id="userEmail" name="userEmail" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                                </div>
                                
                                <div style="margin-bottom: 15px;">
                                    <label for="subject" style="display: block; margin-bottom: 5px; color: #2c3e50; font-weight: 600;">Subject:</label>
                                    <select id="subject" name="subject" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                                        <option value="">Select a topic...</option>
                                        <option value="General Inquiry">General Inquiry</option>
                                        <option value="Technical Question">Technical Question</option>
                                        <option value="Feature Request">Feature Request</option>
                                        <option value="Bug Report">Bug Report</option>
                                        <option value="Collaboration">Collaboration</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                
                                <div style="margin-bottom: 20px;">
                                    <label for="message" style="display: block; margin-bottom: 5px; color: #2c3e50; font-weight: 600;">Message:</label>
                                    <textarea id="message" name="message" rows="4" required placeholder="Tell us about your inquiry, suggestion, or question..." style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 14px; resize: vertical; box-sizing: border-box;"></textarea>
                                </div>
                                
                                <button type="submit" class="contact-submit-btn" style="background: var(--success-gradient); color: white; border: none; padding: 12px 25px; border-radius: 25px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); width: 100%;">
                                    <i class="fas fa-paper-plane"></i> Send Message
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Development Card -->
                    <div class="contact-card">
                        <div>
                            <h3><i class="fas fa-github"></i> Development</h3>
                            <p>This project is developed for educational and research purposes.</p>
                            <p>It demonstrates best practices in machine learning application development.</p>
                            <p>Perfect for students and researchers in AI/ML fields.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div>

    <!-- Floating Action Button -->
    <div class="floating-action">
        <button class="floating-btn" onclick="scrollToTop()" title="Scroll to Top">
            <i class="fas fa-arrow-up"></i>
        </button>
    </div>

    <div class="footer">
        <p>Powered by Advanced SVM Machine Learning ‚Ä¢ Built with ‚ù§Ô∏è for AI Research</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Load model information on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadModelInfo();
            loadSampleImages();
            
            // Add entrance animations
            setTimeout(() => {
                // Animate home section on load
                const homeSection = document.getElementById('home-section');
                if (homeSection) {
                    homeSection.classList.add('active');
                }
                
                // Add staggered animation to contact cards
                const contactCards = document.querySelectorAll('.contact-card');
                contactCards.forEach((card, index) => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(30px)';
                    
                    setTimeout(() => {
                        card.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 200 + (index * 150));
                });
                
                // Animate other elements
                const animatedElements = document.querySelectorAll('.header-section, .prediction-section, .metrics-section');
                animatedElements.forEach((element, index) => {
                    element.style.opacity = '0';
                    element.style.transform = 'translateY(20px)';
                    
                    setTimeout(() => {
                        element.style.transition = 'all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                        element.style.opacity = '1';
                        element.style.transform = 'translateY(0)';
                    }, 400 + (index * 200));
                });
            }, 100);
        });

        // Section navigation function
        function showSection(sectionName) {
            // Hide all sections with fade out effect
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
                setTimeout(() => {
                    section.style.display = 'none';
                }, 300);
            });
            
            // Show selected section with fade in effect
            const selectedSection = document.getElementById(sectionName + '-section');
            if (selectedSection) {
                setTimeout(() => {
                    selectedSection.style.display = 'block';
                    // Trigger reflow for animation
                    selectedSection.offsetHeight;
                    selectedSection.classList.add('active');
                }, 300);
            }
            
            // Update navigation button states
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Find and activate the clicked button
            const clickedButton = event.target.closest('.nav-btn');
            if (clickedButton) {
                clickedButton.classList.add('active');
            }
            
            // Scroll to top when changing sections
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Handle file selection
        document.getElementById('imageFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                document.getElementById('fileName').textContent = file.name;
                document.getElementById('fileInfo').style.display = 'block';
                document.getElementById('classifyBtn').disabled = false;
            } else {
                document.getElementById('fileInfo').style.display = 'none';
                document.getElementById('classifyBtn').disabled = true;
            }
        });

        // Handle file upload
        document.getElementById('uploadForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const fileInput = document.getElementById('imageFile');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('Please select a file');
                return;
            }
            
            uploadAndClassify(file);
        });

        function uploadAndClassify(file) {
            const formData = new FormData();
            formData.append('file', file);
            
            console.log('Starting upload for file:', file.name);
            
            // Show loading
            document.getElementById('loading').style.display = 'block';
            document.getElementById('predictionResults').style.display = 'none';
            
            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                console.log('Response status:', response.status);
                console.log('Response headers:', response.headers);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('Response data:', data);
                document.getElementById('loading').style.display = 'none';
                
                if (data.success) {
                    displayResults(data);
                    // Refresh metrics after successful prediction to show updated data
                    setTimeout(() => loadModelInfo(), 1000);
                } else {
                    alert('Error: ' + data.error);
                }
            })
            .catch(error => {
                document.getElementById('loading').style.display = 'none';
                console.error('Upload error:', error);
                alert('Error uploading file: ' + error.message);
            });
        }

        function displayResults(data) {
            // Display uploaded image
            document.getElementById('uploadedImage').src = 'data:image/jpeg;base64,' + data.image;
            
            // Display enhanced prediction results
            const container = document.getElementById('predictionsContainer');
            container.innerHTML = '';
            
            console.log('Displaying results:', data);
            
            // Handle multiple kernel predictions
            if (data.predictions) {
                // Display results for each kernel
                Object.keys(data.predictions).forEach(kernel => {
                    const predictionData = data.predictions[kernel];
                    console.log(`Processing ${kernel}:`, predictionData);
                    
                    // Handle new format: {label: "üê± Cat", confidence: 85.2}
                    if (typeof predictionData === 'object' && predictionData.label && predictionData.confidence !== undefined) {
                        const label = predictionData.label;
                        const confidence = predictionData.confidence;
                        const emoji = label.includes('Cat') ? 'üê±' : 'üê∂';
                    
                    const card = document.createElement('div');
                        card.className = 'prediction-card enhanced fade-in';
                    card.innerHTML = `
                        <h4><i class="fas fa-rocket"></i> ${kernel.toUpperCase()} Kernel</h4>
                        <div class="emoji">${emoji}</div>
                            <h3>Prediction: ${label}</h3>
                        <p><strong>Confidence:</strong> ${confidence}%</p>
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${confidence}%"></div>
                        </div>
                        <div class="model-info-badge">
                            <i class="fas fa-chart-line"></i> SVM with ${kernel.toUpperCase()} Kernel
                        </div>
                    `;
                    container.appendChild(card);
                    } else if (predictionData === 'Error') {
                        // Handle error case
                        const card = document.createElement('div');
                        card.className = 'prediction-card error fade-in';
                        card.innerHTML = `
                            <h4><i class="fas fa-exclamation-triangle"></i> ${kernel.toUpperCase()} Kernel</h4>
                            <div class="emoji">‚ùå</div>
                            <h3>Prediction: Error</h3>
                            <p><strong>Status:</strong> Model failed to predict</p>
                            <div class="model-info-badge">
                                <i class="fas fa-exclamation-triangle"></i> SVM with ${kernel.toUpperCase()} Kernel
                            </div>
                        `;
                        container.appendChild(card);
                    } else if (predictionData === 'Not Available') {
                        // Handle not available case
                        const card = document.createElement('div');
                        card.className = 'prediction-card unavailable fade-in';
                        card.innerHTML = `
                            <h4><i class="fas fa-times-circle"></i> ${kernel.toUpperCase()} Kernel</h4>
                            <div class="emoji">‚è∏Ô∏è</div>
                            <h3>Prediction: Not Available</h3>
                            <p><strong>Status:</strong> Model not trained</p>
                            <div class="model-info-badge">
                                <i class="fas fa-times-circle"></i> SVM with ${kernel.toUpperCase()} Kernel
                            </div>
                        `;
                        container.appendChild(card);
                    } else {
                        // Handle simple string format (fallback)
                        const label = predictionData;
                        const emoji = label === 'Cat' ? 'üê±' : 'üê∂';
                        
                        const card = document.createElement('div');
                        card.className = 'prediction-card enhanced fade-in';
                        card.innerHTML = `
                            <h4><i class="fas fa-rocket"></i> ${kernel.toUpperCase()} Kernel</h4>
                            <div class="emoji">${emoji}</div>
                            <h3>Prediction: ${label}</h3>
                            <p><strong>Confidence:</strong> N/A</p>
                            <div class="confidence-bar">
                                <div class="confidence-fill" style="width: 50%"></div>
                            </div>
                            <div class="model-info-badge">
                                <i class="fas fa-chart-line"></i> SVM with ${kernel.toUpperCase()} Kernel
                            </div>
                        `;
                        container.appendChild(card);
                    }
                });
                
                // Load metrics after successful prediction
                setTimeout(() => {
                    loadModelInfo();
                }, 500);
            } else {
                // Fallback for single prediction format
                const prediction = data.prediction || 'Unknown';
                const confidence = data.confidence || 0.5;
                const emoji = prediction === 'Cat' ? 'üê±' : 'üê∂';
                
                const card = document.createElement('div');
                card.className = 'prediction-card enhanced fade-in';
                card.innerHTML = `
                    <h4><i class="fas fa-rocket"></i> SVM Classifier</h4>
                    <div class="emoji">${emoji}</div>
                    <h3>Prediction: ${prediction}</h3>
                                    <p><strong>Confidence:</strong> ${confidence}%</p>
                <div class="confidence-bar">
                    <div class="confidence-fill" style="width: ${confidence}%"></div>
                </div>
                    <div class="model-info-badge">
                        <i class="fas fa-chart-line"></i> SVM Classifier
                    </div>
                `;
                container.appendChild(card);
            }
            
            document.getElementById('predictionResults').style.display = 'block';
        }

        function loadModelInfo() {
            fetch('/metrics')
            .then(response => response.json())
            .then(data => {
                console.log('Metrics data received:', data);
                
                // Update dataset stats
                if (data.dataset_stats) {
                    document.getElementById('trainCats').textContent = data.dataset_stats.train_cats || '-';
                    document.getElementById('trainDogs').textContent = data.dataset_stats.train_dogs || '-';
                    document.getElementById('testCats').textContent = data.dataset_stats.test_cats || '-';
                    document.getElementById('testDogs').textContent = data.dataset_stats.test_dogs || '-';
                }
                
                // Update enhanced model comparison table
                const tableBody = document.getElementById('kernelTable');
                tableBody.innerHTML = '';
                
                if (data.kernel_comparison && data.kernel_comparison.length > 0) {
                    data.kernel_comparison.forEach((model, index) => {
                        const row = document.createElement('tr');
                        row.className = 'fade-in';
                        row.style.animationDelay = `${index * 0.1}s`;
                        row.innerHTML = `
                            <td><strong><i class="fas fa-rocket"></i> ${model.kernel}</strong></td>
                            <td><span class="badge bg-success">${(parseFloat(model.accuracy) * 100).toFixed(1)}%</span></td>
                            <td>${(parseFloat(model.precision) * 100).toFixed(1)}%</td>
                            <td>${(parseFloat(model.recall) * 100).toFixed(1)}%</td>
                            <td>${(parseFloat(model.f1_score) * 100).toFixed(1)}%</td>
                        `;
                        tableBody.appendChild(row);
                    });
                } else {
                    // Show placeholder if no data
                    const row = document.createElement('tr');
                    row.innerHTML = '<td colspan="5" class="text-center text-muted">No model data available</td>';
                    tableBody.appendChild(row);
                }
                
                // Update best model info
                if (data.best_kernel && data.best_accuracy) {
                    document.getElementById('bestKernel').textContent = data.best_kernel;
                    document.getElementById('bestAccuracy').textContent = (parseFloat(data.best_accuracy) * 100).toFixed(1) + '%';
                } else {
                    document.getElementById('bestKernel').textContent = '-';
                    document.getElementById('bestAccuracy').textContent = '-';
                }
            })
            .catch(error => {
                console.error('Error loading metrics:', error);
                // Show error state in the UI
                document.getElementById('trainCats').textContent = 'Error';
                document.getElementById('trainDogs').textContent = 'Error';
                document.getElementById('testCats').textContent = 'Error';
                document.getElementById('testDogs').textContent = 'Error';
                
                const tableBody = document.getElementById('kernelTable');
                tableBody.innerHTML = '<tr><td colspan="5" class="text-center text-danger">Failed to load model data</td></tr>';
                
                document.getElementById('bestKernel').textContent = 'Error';
                document.getElementById('bestAccuracy').textContent = 'Error';
            });
        }

        function loadSampleImages() {
            fetch('/api/sample_images')
            .then(response => response.json())
            .then(data => {
                const gallery = document.getElementById('sampleGallery');
                gallery.innerHTML = '';
                
                data.samples.forEach((sample, index) => {
                    const div = document.createElement('div');
                    div.className = 'sample-image fade-in';
                    div.style.animationDelay = `${index * 0.1}s`;
                    div.onclick = () => predictSample(sample.type, sample.index);
                    
                    div.innerHTML = `
                        <img src="data:image/jpeg;base64,${sample.image}" alt="${sample.label}">
                        <div class="sample-label">${sample.label}</div>
                    `;
                    
                    gallery.appendChild(div);
                });
            })
            .catch(error => {
                console.error('Error loading sample images:', error);
            });
        }

        function predictSample(sampleType, index) {
            fetch(`/predict_sample/${sampleType}/${index}`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Create a mock predictions object for sample images
                    const mockPredictions = {
                        'rbf': {
                            'label': data.prediction === 'Cat' ? 'üê± Cat' : 'üê∂ Dog',
                            'confidence': Math.round(data.confidence * 100)
                        }
                    };
                    
                    const mockData = {
                        image: data.image,
                        predictions: mockPredictions
                    };
                    
                    displayResults(mockData);
                } else {
                    alert('Error: ' + data.error);
                }
            })
            .catch(error => {
                console.error('Error predicting sample:', error);
                alert('Error predicting sample image');
            });
        }

        function refreshMetrics() {
            loadModelInfo();
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Show/hide floating action button based on scroll position
        window.addEventListener('scroll', function() {
            const floatingBtn = document.querySelector('.floating-btn');
            if (window.scrollY > 300) {
                floatingBtn.style.opacity = '1';
                floatingBtn.style.visibility = 'visible';
            } else {
                floatingBtn.style.opacity = '0';
                floatingBtn.style.visibility = 'hidden';
            }
        });

        // Email form submission function
        function sendEmail(event) {
            event.preventDefault();
            
            const formData = {
                userName: document.getElementById('userName').value,
                userEmail: document.getElementById('userEmail').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value
            };
            
            // Create mailto link with form data
            const mailtoLink = `mailto:svm-classifier@ai-research.com?subject=${encodeURIComponent(formData.subject + ' - ' + formData.userName)}&body=${encodeURIComponent(`Name: ${formData.userName}\nEmail: ${formData.userEmail}\nSubject: ${formData.subject}\n\nMessage:\n${formData.message}\n\n---\nSent from SVM Cat-Dog Classifier Application`)}`;
            
            // Open default email client
            window.open(mailtoLink, '_blank');
            
            // Show success message
            showNotification('Message prepared! Your email client will open with the message ready to send.', 'success');
            
            // Reset form
            document.getElementById('contactForm').reset();
        }

        // Notification function
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'var(--success-gradient)' : 'var(--primary-gradient)'};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                max-width: 400px;
                animation: slideInRight 0.3s ease-out;
            `;
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'info-circle'}" style="font-size: 1.2rem;"></i>
                    <span>${message}</span>
                        </div>
                    `;
                    
            // Add to page
            document.body.appendChild(notification);
            
            // Remove after 5 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-out';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        // Add CSS animations for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html> 